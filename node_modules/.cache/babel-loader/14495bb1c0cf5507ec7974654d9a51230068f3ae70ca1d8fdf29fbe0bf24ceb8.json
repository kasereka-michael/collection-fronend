{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import{depositService}from'../services/depositService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DepositDetail=()=>{const{id}=useParams();const navigate=useNavigate();const[deposit,setDeposit]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchDeposit=async()=>{try{setLoading(true);const response=await depositService.getDepositById(id);setDeposit(response.data);}catch(e){console.error('Failed to load deposit:',e);setError('Failed to load deposit details');}finally{setLoading(false);}};fetchDeposit();},[id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-3\",children:error}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary\",onClick:()=>navigate(-1),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left me-2\"}),\"Back\"]})]});}if(!deposit)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Deposit #\",deposit.id]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-secondary\",onClick:()=>navigate(-1),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left me-2\"}),\"Back\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Client\"}),/*#__PURE__*/_jsx(\"div\",{children:deposit.clientName||'—'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cycle\"}),/*#__PURE__*/_jsx(\"div\",{children:deposit.cycleId})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Amount\"}),/*#__PURE__*/_jsxs(\"div\",{children:[parseFloat(deposit.amount||0).toLocaleString(),\" UGX\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"div\",{children:deposit.depositDate?new Date(deposit.depositDate).toLocaleString():'—'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"div\",{children:deposit.notes||'—'})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 d-flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:()=>navigate(\"/deposits/\".concat(deposit.id,\"/edit\")),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit me-2\"}),\"Edit\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-primary\",onClick:()=>navigate(\"/cycles/\".concat(deposit.cycleId)),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sync me-2\"}),\"View Cycle\"]})]})]})})});};export default DepositDetail;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","depositService","jsx","_jsx","jsxs","_jsxs","DepositDetail","id","navigate","deposit","setDeposit","loading","setLoading","error","setError","fetchDeposit","response","getDepositById","data","e","console","className","children","role","onClick","clientName","cycleId","parseFloat","amount","toLocaleString","depositDate","Date","notes","concat"],"sources":["/home/michael-jazziry/Desktop/retourneProject/frontend/src/components/DepositDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { depositService } from '../services/depositService';\n\nconst DepositDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [deposit, setDeposit] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchDeposit = async () => {\n      try {\n        setLoading(true);\n        const response = await depositService.getDepositById(id);\n        setDeposit(response.data);\n      } catch (e) {\n        console.error('Failed to load deposit:', e);\n        setError('Failed to load deposit details');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDeposit();\n  }, [id]);\n\n  if (loading) {\n    return (\n      <div className=\"loading-spinner\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"alert alert-danger mt-3\">{error}</div>\n        <button className=\"btn btn-secondary\" onClick={() => navigate(-1)}>\n          <i className=\"fas fa-arrow-left me-2\"></i>\n          Back\n        </button>\n      </div>\n    );\n  }\n\n  if (!deposit) return null;\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\n            <h1>Deposit #{deposit.id}</h1>\n            <div className=\"d-flex gap-2\">\n              <button className=\"btn btn-outline-secondary\" onClick={() => navigate(-1)}>\n                <i className=\"fas fa-arrow-left me-2\"></i>\n                Back\n              </button>\n            </div>\n          </div>\n\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <div className=\"row g-3\">\n                <div className=\"col-md-6\">\n                  <strong>Client</strong>\n                  <div>{deposit.clientName || '—'}</div>\n                </div>\n                <div className=\"col-md-6\">\n                  <strong>Cycle</strong>\n                  <div>{deposit.cycleId}</div>\n                </div>\n                <div className=\"col-md-6\">\n                  <strong>Amount</strong>\n                  <div>{parseFloat(deposit.amount || 0).toLocaleString()} UGX</div>\n                </div>\n                <div className=\"col-md-6\">\n                  <strong>Date</strong>\n                  <div>{deposit.depositDate ? new Date(deposit.depositDate).toLocaleString() : '—'}</div>\n                </div>\n                <div className=\"col-12\">\n                  <strong>Notes</strong>\n                  <div>{deposit.notes || '—'}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-3 d-flex gap-2\">\n            <button className=\"btn btn-primary\" onClick={() => navigate(`/deposits/${deposit.id}/edit`)}>\n              <i className=\"fas fa-edit me-2\"></i>\n              Edit\n            </button>\n            <button className=\"btn btn-outline-primary\" onClick={() => navigate(`/cycles/${deposit.cycleId}`)}>\n              <i className=\"fas fa-sync me-2\"></i>\n              View Cycle\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DepositDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}